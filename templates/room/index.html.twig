{% extends 'base.html.twig' %}

{% block title %}Salles
{% endblock %}

{% block body %}
	<!-- Titre principal -->
	<h1 style="font-family:Arial, sans-serif; margin-bottom:15px; color:#333;">Salles</h1>

	<!-- Formulaire de recherche / filtrage -->
	<form method="get" action="{{ path('app_room_index') }}" style="background:#fff; padding:10px; border:1px solid #ccc; margin-bottom:20px;">
		<div>
			<!-- Filtre par capacité -->
			<label for="capacity" style="display:block; margin:5px 0;">Capacité :</label>
			<input type="number" id="capacity" name="capacity" value="{{ app.request.get('capacity')|e }}" style="padding:4px; border:1px solid #ccc; border-radius:3px; width:120px;">
		</div>

		<div>
			<!-- Filtres par équipements / options -->
			<label style="display:block; margin:5px 0;">Équipements et critères d'ergonomie :</label>
			<div style="border: 1px solid #ccc; padding: 15px; max-height: 400px; overflow-y: auto; background-color: #f9f9f9;">

				{% set selectedTypes = app.request.query.all('type') %}

				<!-- Groupe 1 : Mobilier -->
				<h4 style="margin:8px 0;">Équipements essentiels - Mobilier</h4>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Tables modulables ou extensibles" {{ 'Tables modulables ou extensibles' in selectedTypes ? 'checked' : '' }}>
					Tables modulables ou extensibles
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Chaises confortables et réglables" {{ 'Chaises confortables et réglables' in selectedTypes ? 'checked' : '' }}>
					Chaises confortables et réglables
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Poufs ou sièges supplémentaires" {{ 'Poufs ou sièges supplémentaires' in selectedTypes ? 'checked' : '' }}>
					Poufs ou sièges supplémentaires
				</label>

				<!-- Groupe 2 : Technologie -->
				<h4 style="margin:8px 0;">Technologie</h4>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Écran ou vidéoprojecteur" {{ 'Écran ou vidéoprojecteur' in selectedTypes ? 'checked' : '' }}>
					Écran ou vidéoprojecteur
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Connexion Wi-Fi haut débit" {{ 'Connexion Wi-Fi haut débit' in selectedTypes ? 'checked' : '' }}>
					Connexion Wi-Fi haut débit
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Système de visioconférence" {{ 'Système de visioconférence' in selectedTypes ? 'checked' : '' }}>
					Système de visioconférence
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Prises électriques et ports USB accessibles" {{ 'Prises électriques et ports USB accessibles' in selectedTypes ? 'checked' : '' }}>
					Prises électriques et ports USB
				</label>
				<label style="display:block; margin:5px 0;">
					<input type="checkbox" name="type[]" value="Tableau blanc ou interactif / paperboard" {{ 'Tableau blanc ou interactif / paperboard' in selectedTypes ? 'checked' : '' }}>
					Tableau blanc / interactif / paperboard
				</label>
			</div>
		</div>

		<!-- Boutons de recherche et réinitialisation -->
		<div>
			<button type="submit" style="display:inline-block; margin-top:10px; padding:6px 10px; border:1px solid #007bff; border-radius:3px; background:#007bff; color:#fff; cursor:pointer;">
				Rechercher
			</button>
			<a href="{{ path('app_room_index') }}" style="display:inline-block; margin-top:10px; padding:6px 10px; border:1px solid #6c757d; border-radius:3px; background:#6c757d; color:#fff; text-decoration:none;">
				Réinitialiser
			</a>
		</div>
	</form>

	<!-- Tableau des salles -->
	<table style="width:100%; border-collapse:collapse; background:#fff;">
		<thead>
			<tr>
				<th>Id</th>
				<th>Name</th>
				<th>Location</th>
				<th>Capacity</th>
				<th>Description</th>
				<th>actions</th>
			</tr>
		</thead>
		<tbody>
			{% for room in rooms %}
				<tr>
					<td>{{ room.id }}</td>
					<td>{{ room.name }}</td>
					<td>{{ room.location }}</td>
					<td>{{ room.capacity }}</td>
					<td>{{ room.description }}</td>
					<td>
						<a href="{{ path('app_room_show', {'id': room.id}) }}">show</a>
						<a href="{{ path('app_room_edit', {'id': room.id}) }}">edit</a>
					</td>
				</tr>
			{% else %}
				<!-- Message si aucune salle trouvée -->
				<tr>
					<td colspan="7" style="text-align:center; padding:10px; color:#555;">no records found</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<!-- Bouton pour créer une nouvelle salle -->
	<a href="{{ path('app_room_new') }}" style="display:inline-block; margin-top:15px; padding:6px 12px; background:#28a745; color:#fff; border-radius:3px; text-decoration:none;">
		Create new
	</a>
{% endblock %}
